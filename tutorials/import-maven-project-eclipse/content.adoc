= Importing a Maven project in Eclipse

:tags: Flow, Java, Maven, Eclipse
:author: Alejandro Duarte
:description: Learn how to import an existing Maven project into Eclipse
:linkattrs: // enable link attributes, like opening in a new window
:imagesdir: ./images

This tutorial explains how to import an existing Maven project into Eclipse and how to create a running configuration for a Maven goal. This is useful for example when using the Jetty Maven plugin that allows you to quickly deploy and run a Java web application using this popular server.

== Download an existing Maven project

You can create your Maven project from a Maven archetype or download an existing one from the web. This tutorial uses one of the several project starters at https://vaadin.com/start which include a web application and a `pom.xml` file with a preconfigured Jetty Maven plugin in it.

Go to https://vaadin.com/start and use the form to create a new project. Select *Plain Java Servlet* as the technology stack. Click the *Download* button and extract the ZIP file somewhere in your hard drive. The extracted content should include a directory with a Maven project in it:

image::maven-project-directory.png[Maven project directory]

== Import the project

In Eclipse, select *File | Import...*. In the import window, expand *Maven* and select *Existing Maven Projects*:

image::import-window.png[Import window]

Click *Next*. Click *Browser* and select the directory that contains the `pom.xml` file of the project you want to import:

image::select-root-directory.png[Select the root directory]

NOTE: If you are importing a multi-module Maven project, make sure you select the project you want to import. Most of the time you might want to select all the projects.

Click *Finish*. Eclipse will import the project and start downloading the required resources.

== Running Maven goals

Eclipse has built-in integration with Maven. You can run common commands such as `mvn install` or `mvn jetty:run` without having to leave the IDE.

The most common commands are available in the *Run As* and *Debug As* folders when you right-click the project in the *Project Explorer* view. For example, to run `mvn install`, right-click the project and select *Run As | Maven install*:

image::maven-install.png[Maven install]

You'll see how Eclipse executes the `install` build phase (and all the previous phases in the Maven's default lifecycle) which downloads dependencies and copies the generated artifacts into your local Maven repository among other things.

NOTE: Other useful options are available in the *Maven* folder of the context menu.

== Creating a running configuration

A _running configuration_ is a _shortcut_ to run a specific task from within the IDE. Let's create a running configuration for the `jetty:run` Maven goal to make it simpler to run the web application from the IDE.

Right-click the project in the *Project Explorer* view and select *Run As | Maven build*. You'll see the *Edit Configuration* window. For *Goals* type `jetty:run` and optionally give the running configuration a new name:

image::jetty-run.png[jetty:run configuration]

Click *Run* to save the new configuration and execute it. You should see the *Console* view with the log generated by the application and the Jetty server.

To stop the server, click on the *Terminate* icon in the *Console* view:

image::terminate.png[Terminate]

You can deploy and run the web application by clicking the run (or the debug) icon in the toolbar and selecting the corresponding running configuration:

image::toolbar.png[Toolbar]

NOTE: You can invoke the web application at http://localhost:8080.
